 versione con array AgentImpl[] agents 
 e Lock lock = new ReentrantLock();