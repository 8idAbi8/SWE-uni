 versione con  Lock lock = new ReentrantLock(); 
 e List<Agent> agents = new ArrayList<>();